import { createI18n } from 'vue-i18n'
import { useSettingsStore } from '../stores/settings'

const messages = {
  ko: {
    app: {
      title: 'capyTerm',
      settings: '설정',
      language: '언어',
      korean: '한국어',
      english: '영어',
      confirm: '확인',
      cancel: '취소',
      add: '추가',
      edit: '수정',
      delete: '삭제',
      clone: '복제',
      session: '세션',
      sessionGroup: '세션 그룹',
    },
    settings: {
      title: '환경 설정',
      tab: { ui: 'UI', session: 'Session' },
      theme: '테마',
      light: '라이트',
      dark: '다크',
      font: '글꼴',
      fontPlaceholder: '예: monospace, Consolas',
      fontSize: '글자 크기',
      fontSizePlaceholder: '예: 14px, 16px',
      filterPlaceholder: '무엇이든 입력하세요.',
      addWhat: '무엇을 추가할까요?',
      parentNone: '상위: 미 지정',
      groupAddTitle: '세션 그룹 추가',
      groupName: '세션 그룹 이름',
      root: '미 지정',
      group: '세션 그룹',
      sessionEditTitle: '세션 {mode}',
      editMode: { add: '추가', edit: '수정' },
      sessionName: '세션 이름',
      host: '호스트',
      port: '포트(기본 22)',
      user: '사용자',
      password: '비밀번호',
      key: '키',
      privateKeyPath: '개인키 경로',
      passphrase: '암호(선택)',
      sessionGroupLabel: '세션 그룹: 미 지정',
    },
    connect: {
      title: 'SSH 연결',
      host: '호스트',
      port: '포트',
      user: '사용자',
      auth: '인증 방식',
      password: '비밀번호',
      privateKey: '개인키',
      passphrase: '암호',
      optional: '(선택 사항)',
      connect: '연결',
      errorRequired: '호스트와 사용자 이름을 입력해주세요.',
      errorKey: '개인키 파일을 선택해주세요.',
    },
  },
  en: {
    app: {
      title: 'capyTerm',
      settings: 'Settings',
      language: 'Language',
      korean: 'Korean',
      english: 'English',
      confirm: 'OK',
      cancel: 'Cancel',
      add: 'Add',
      edit: 'Edit',
      delete: 'Delete',
      clone: 'Clone',
      session: 'Session',
      sessionGroup: 'Session Group',
    },
    settings: {
      title: 'Preferences',
      tab: { ui: 'UI', session: 'Session' },
      theme: 'Theme',
      light: 'Light',
      dark: 'Dark',
      font: 'Font',
      fontPlaceholder: 'e.g., monospace, Consolas',
      fontSize: 'Font Size',
      fontSizePlaceholder: 'e.g., 14px, 16px',
      filterPlaceholder: 'Type anything to filter...',
      addWhat: 'What would you like to add?',
      parentNone: 'Parent: None',
      groupAddTitle: 'Add Session Group',
      groupName: 'Session Group Name',
      root: 'Unassigned',
      group: 'Session Group',
      sessionEditTitle: 'Session {mode}',
      editMode: { add: 'Add', edit: 'Edit' },
      sessionName: 'Session Name',
      host: 'Host',
      port: 'Port (default 22)',
      user: 'User',
      password: 'Password',
      key: 'Key',
      privateKeyPath: 'Private Key Path',
      passphrase: 'Passphrase (optional)',
      sessionGroupLabel: 'Session Group: None',
    },
    connect: {
      title: 'SSH Connect',
      host: 'Host',
      port: 'Port',
      user: 'User',
      auth: 'Authentication',
      password: 'Password',
      privateKey: 'Private Key',
      passphrase: 'Passphrase',
      optional: '(optional)',
      connect: 'Connect',
      errorRequired: 'Please enter host and username.',
      errorKey: 'Please select a private key file.',
    },
  },
}

export const i18n = createI18n({
  legacy: false,
  locale: 'ko',
  fallbackLocale: 'en',
  messages,
})

export function bindI18nToSettings() {
  const settings = useSettingsStore()
  // initialize
  i18n.global.locale.value = settings.language || 'ko'
}

export default i18n


